name: Telegram Bot Fast

on:
  schedule:
    - cron: '*/1 * * * *'  # –ö–ê–ñ–î–£–Æ –ú–ò–ù–£–¢–£!
  workflow_dispatch:

jobs:
  fast-bot:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - uses: actions/setup-python@v4
      with:
        python-version: '3.9'
        
    - name: Install deps
      run: pip install pyTelegramBotAPI gspread google-auth
      
    - name: Run bot 3 times
      env:
        GOOGLE_CREDS_JSON: ${{ secrets.GOOGLE_CREDS_JSON }}
      run: |
        echo "üöÄ –ó–ê–ü–£–°–ö –ë–û–¢–ê –ö–ê–ñ–î–£–Æ –ú–ò–ù–£–¢–£"
        for i in {1..3}; do
          echo "üëâ –ó–∞–ø—É—Å–∫ $i/3..."
          python bot.py
          if [ $i -lt 3 ]; then
            echo "‚è±Ô∏è –ñ–¥–µ–º 20 —Å–µ–∫—É–Ω–¥..."
            sleep 20
          fi
        done
